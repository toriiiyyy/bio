<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Projects — toriiiyyy</title>
  <link rel="stylesheet" href="../assets/css/styles.css" />
</head>

<body>
  <div class="bg" aria-hidden="true"></div>

  <a href="../index.html" class="back-btn">← Back</a>

  <!-- MUSIC PLAYER -->
  <div class="player-badge" role="group" aria-label="Music player">
    <button id="playBtn" class="play-btn" type="button" aria-label="Play/Pause">▶</button>
    <div class="track">
      <strong>oOoOo</strong>
      <span>dj trippie flameboy</span>
    </div>
  </div>
  <audio id="music" src="../assets/music.mp3" loop></audio>

  <main class="page is-ready">
    <section class="card card-wide">
      <h1>Projects</h1>
      <p class="sub">case studies & work samples</p>

      <article class="project-card">
        <div class="project-top">
          <div>
            <h2 class="project-title">Albion Profit Calculator</h2>
            <p class="project-meta">Security Case Study • Backend/API • RBAC • JWT</p>
          </div>
          <span class="badge critical">Critical</span>
        </div>

        <p class="project-desc">
          Co-developed backend REST API and performed an internal security audit in production (owner-approved).
          Found and remediated a Broken Access Control issue and reduced excessive data exposure on admin endpoints.
        </p>

        <div class="project-actions">
          <a class="btn" href="./albion-case.html">Open case study</a>
          <button class="btn ghost" type="button" onclick="toggleCase()">Quick view</button>
        </div>

        <div id="casePreview" class="case-preview" hidden>
          <div class="case-grid">
            <div class="case-block">
              <h3>Finding #1</h3>
              <p><strong>Broken Access Control / Privilege Escalation</strong></p>
              <ul>
                <li>role=user could call <code>/api/admin/*</code></li>
                <li>Expected: <code>403</code>, Actual: <code>200</code></li>
                <li>Impact: user enumeration & data exposure</li>
              </ul>
            </div>

            <div class="case-block">
              <h3>Finding #2</h3>
              <p><strong>Excessive Data Exposure</strong></p>
              <ul>
                <li>~900KB responses</li>
                <li>No pagination</li>
                <li>Higher risk & load</li>
              </ul>
            </div>

            <div class="case-block">
              <h3>Fix</h3>
              <ul>
                <li>RBAC middleware: <code>requireAuth</code> + <code>requireRole('admin')</code></li>
                <li>Protected <code>/api/admin/*</code></li>
                <li>Data minimization + pagination</li>
                <li>Admin audit logging</li>
              </ul>
            </div>

            <div class="case-block">
              <h3>Status</h3>
              <p><strong>Fixed</strong> — retested post-patch, no regression.</p>
              <p class="muted">Period: <em>11.2025</em></p>
            </div>
          </div>
        </div>
      </article>

      <div class="about-block" style="margin-top:16px;">
        <p><strong>More projects:</strong> (placeholder)</p>
        <p class="muted">Add new cards here later.</p>
      </div>
    </section>
  </main>

  <script src="../assets/js/main.js"></script>
  <script>
    function toggleCase(){
      const el = document.getElementById('casePreview');
      el.hidden = !el.hidden;
    }
  </script>
</body>
</html>
